{"version":3,"sources":["webpack:///src/components/PicZoom.vue","webpack:///./src/components/PicZoom.vue?dc6f","webpack:///./src/components/PicZoom.vue","webpack:///src/App.vue","webpack:///./src/App.vue?9fb7","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["PicZoom","props","scale","type","Number","default","url","String","required","bigUrl","scroll","Boolean","showEidt","data","id","cover","imgbox","imgwrap","orginUrl","bigImgUrl","bigOrginUrl","imgUrl","img","canvas","ctx","rectTimesX","rectTimesY","imgTimesX","imgTimesY","init","step","bigStep","vertical","showImg","created","$chars","maxPos","length","str","i","charAt","Math","floor","random","this","watch","val","initTime","_bigUrl","apply","arguments","toString","mounted","_this2","$nextTick","methods","_this3","box","$refs","querySelector","style","width","offsetWidth","height","offsetHeight","left","top","imgsrc","Image","src","onload","parentNode","removeChild","document","createElement","className","position","offsetLeft","offsetTop","border","zIndex","display","body","append","getContext","clearRect","initBox","_this4","setTimeout","mousemove","e","_this","eve","oEvent","event","pos","x","clientX","y","clientY","curEle","totalLeft","totalTop","par","offsetParent","navigator","userAgent","indexOf","clientLeft","clientTop","offset","range","minX","maxX","minY","documentElement","scrollTop","maxY","startX","scrollLeft","startY","drawImage","mouseover","currentTarget","addEventListener","ev","preventDefault","mouseleave","rotate","direction","_this5","orginImg","crossOrigin","rotateImg","bigOrginImg","_this6","isBig","undefined","degree","PI","newImg","toDataURL","components_PicZoom","render","_vm","_h","$createElement","_c","_self","ref","staticClass","class","on","directives","name","rawName","value","expression","attrs","alt","_v","click","$event","_e","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","changeUrl","selectortype_template_index_0_src_App","_m","big-url","show-eidt","staticStyle","color","src_App","App_normalizeComponent","Vue","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.91ff354bb3f40a44ebe5.js","sourcesContent":["<template>\n    <div class=\"magnifier-box\" :class=\"vertical?'vertical':''\" :ref=\"id\" @mousemove=\"mousemove\" @mouseover=\"mouseover\" @mouseleave=\"mouseleave\">\n        <img v-show=\"showImg\" :src=\"imgUrl\" alt=\"\">\n        <div class=\"mouse-cover\"></div>\n        <div class=\"edit-wrap\" v-if=\"showEidt\">\n            <span class=\"rotate-left\" @click=\"rotate('left')\"></span>\n            <span class=\"rotate-right\" @click=\"rotate('right')\"></span>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        props:{\n            scale:{\n                type:Number,\n                default:2.5\n            },\n            url:{\n                type:String,\n                required:true\n            },\n            bigUrl:{\n                type:String,\n                default:null\n            },\n            scroll:{\n                type:Boolean,\n                default:false\n            },\n            showEidt:{\n                type:Boolean,\n                default:false\n            }\n        },\n        data () {\n            return {\n                id:null,\n                cover:null,\n                imgbox:null,\n                imgwrap:null,\n                orginUrl:null,\n                bigImgUrl:null,\n                bigOrginUrl:null,\n                imgUrl:null,\n                img:null,\n                canvas:null,\n                ctx:null,\n                rectTimesX:0,\n                rectTimesY:0,\n                imgTimesX:0,\n                imgTimesY:0,\n                init:false,\n                step:0,\n                bigStep:0,\n                vertical:false,\n                showImg:true\n            }\n        },\n        created(){\n        　　var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678';    /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\n        　　var maxPos = $chars.length;\n        　　var str = '';\n        　　for (let i = 0; i < 10; i++) {\n                str += $chars.charAt(Math.floor(Math.random() * maxPos));\n        　　}\n            this.id=str\n            this.imgUrl=this.url\n            this.orginUrl=this.url\n            this.bigImgUrl=this.bigUrl\n            this.bigOrginUrl=this.bigUrl\n        },\n        watch:{\n            url:function(val){\n                this.imgUrl=val\n                this.orginUrl=val\n                this.initTime()\n            },\n            bigUrl:function(){\n                this.bigImgUrl=bigUrl\n                this.bigOrginUrl=bigUrl\n                this.initTime()\n            }\n        },\n        mounted(){\n            this.$nextTick(()=>{\n                this.initTime()\n            })\n        },\n        methods: {\n            initTime(){\n                this.init=false\n                let box=this.$refs[this.id]\n                this.imgbox=box\n                this.cover=box.querySelector('.mouse-cover')\n                this.cover.style.width=(this.imgbox.offsetWidth/this.scale)+'px'\n                this.cover.style.height=(this.imgbox.offsetHeight/this.scale)+'px'\n                this.cover.style.left='-100%'\n                this.cover.style.top='-100%'\n                this.imgwrap=box.querySelector('img')\n                let imgsrc;\n                if(this.bigImgUrl){\n                    imgsrc=this.bigImgUrl\n                }else{\n                    imgsrc=this.imgUrl\n                }\n                \n                this.img=new Image()\n                this.img.src=imgsrc\n                this.img.onload=()=>{\n                    this.rectTimesX=(this.imgbox.offsetWidth/this.scale)/this.imgwrap.offsetWidth,\n                    this.rectTimesY=(this.imgbox.offsetHeight/this.scale)/this.imgwrap.offsetHeight\n                    this.imgTimesX=this.img.width/this.imgwrap.offsetWidth,\n                    this.imgTimesY=this.img.height/this.imgwrap.offsetHeight\n                    this.vertical=this.img.width<this.img.height\n                    this.init=true\n                }\n                if(this.canvas){\n                    this.canvas.parentNode.removeChild(this.canvas);\n                    this.canvas=null\n                }\n                this.canvas=document.createElement('canvas')\n                this.canvas.className='mouse-cover-canvas'\n                this.canvas.style.position='absolute'\n                this.canvas.style.left=this.imgbox.offsetLeft+this.imgbox.offsetWidth+10+'px'\n                this.canvas.style.top=this.imgbox.offsetTop+'px'\n                this.canvas.style.border='1px solid #eee'\n                this.canvas.style.zIndex='99999'\n                this.canvas.height=this.imgbox.offsetHeight\n                this.canvas.width=this.imgbox.offsetWidth\n                this.canvas.style.display='none'\n                document.body.append(this.canvas)\n                this.ctx=this.canvas.getContext(\"2d\");\n                this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);\n            },\n            initBox(){\n                this.showImg=false\n                this.canvas.style.display='none'\n                let box=this.$refs[this.id]\n                let imgsrc;\n                if(this.bigImgUrl){\n                    imgsrc=this.bigImgUrl\n                }else{\n                    imgsrc=this.imgUrl\n                    \n                }\n                this.img=new Image()\n                this.img.src=imgsrc\n                this.img.onload=()=>{\n                    this.vertical=this.img.width<this.img.height\n                    this.showImg=true\n                    let thumb=box.querySelector('img')\n                    setTimeout(() => {\n                        this.rectTimesX=(this.imgbox.offsetWidth/this.scale)/box.querySelector('img').offsetWidth,\n                        this.rectTimesY=(this.imgbox.offsetHeight/this.scale)/box.querySelector('img').offsetHeight\n                    }, 20);\n                }\n                \n            },\n            mousemove(e){\n                if(!this.init){\n                    return false\n                }\n                let _this=this\n                //获取实际的offset\n                function offset(curEle){\n                    var totalLeft = null,totalTop = null,par = curEle.offsetParent;\n                    //首先加自己本身的左偏移和上偏移\n                    totalLeft+=curEle.offsetLeft;\n                    totalTop+=curEle.offsetTop\n                    //只要没有找到body，我们就把父级参照物的边框和偏移也进行累加\n                    while(par){\n                        if(navigator.userAgent.indexOf(\"MSIE 8.0\")===-1){\n                        //累加父级参照物的边框\n                        totalLeft+=par.clientLeft;\n                        totalTop+=par.clientTop\n                        }\n                        \n                        //累加父级参照物本身的偏移\n                        totalLeft+=par.offsetLeft;\n                        totalTop+=par.offsetTop\n                        par = par.offsetParent;\n                    }\n                \n                    return{\n                        left:totalLeft,\n                        top:totalTop\n                    }\n                }\n\n                function getXY(eve) {\n                    return {\n                        x : eve.clientX -(_this.cover.offsetWidth/2),\n                        y : eve.clientY-(_this.cover.offsetHeight/2) \n                    };\n                }\n                let oEvent = e || event;\n                let pos = getXY(oEvent);\n                let imgwrap=offset(this.imgwrap)\n                let range={\n                    minX:imgwrap.left,\n                    maxX:imgwrap.left+this.imgwrap.offsetWidth-this.cover.offsetWidth,\n                    minY:imgwrap.top-document.documentElement.scrollTop,\n                    maxY:imgwrap.top-document.documentElement.scrollTop+this.imgwrap.offsetHeight-this.cover.offsetHeight,\n                }\n                if(pos.x>range.maxX){\n                    pos.x=range.maxX\n                }\n                if(pos.x<range.minX){\n                    pos.x=range.minX\n                }\n                if(pos.y>range.maxY){\n                    pos.y=range.maxY\n                }\n                if(pos.y<range.minY){\n                    pos.y=range.minY\n                }\n                this.cover.style.left=pos.x+'px'\n                this.cover.style.top=pos.y+'px'\n                this.ctx.clearRect(0,0,this.imgwrap.offsetWidth,this.imgwrap.offsetHeight);\n                let startX=pos.x-(imgwrap.left-document.documentElement.scrollLeft),\n                startY=pos.y-(imgwrap.top-document.documentElement.scrollTop)\n                this.ctx.drawImage(this.img,startX*this.imgTimesX,startY*this.imgTimesY,this.img.width*this.rectTimesX,this.img.height*this.rectTimesY,0,0,this.imgbox.offsetWidth,this.imgbox.offsetHeight);\n                \n            },\n            mouseover(e){\n                if(!this.init){\n                    return false\n                }\n                e=e||event\n                if(!this.scroll){\n                    e.currentTarget.addEventListener(\"mousewheel\",function(ev){\n                        ev.preventDefault();\n                    },false);\n\n                    e.currentTarget.addEventListener(\"DOMMouseScroll\",function(ev){\n                        ev.preventDefault();\n                    },false);\n                }\n                \n                this.cover.style.display='block'\n                this.canvas.style.display='block'\n            },\n            mouseleave(){\n                if(!this.init){\n                    return false\n                }\n                this.cover.style.display='none'\n                this.canvas.style.display='none'\n            },\n            rotate(direction){\n                var orginImg=new Image()\n                orginImg.crossOrigin = \"Anonymous\";\n                orginImg.src=this.orginUrl\n                orginImg.onload=()=>{\n                    this.rotateImg(orginImg,direction,this.step)\n                }\n                if(this.bigOrginUrl){\n                    var bigOrginImg=new Image()\n                    orginImg.crossOrigin = \"Anonymous\";\n                    bigOrginImg.src=this.bigOrginUrl\n                    bigOrginImg.onload=()=>{\n                        this.rotateImg(bigOrginImg,direction,this.bigStep,true)\n                    }\n                }\n                \n            },\n            rotateImg(img,direction,step,isBig=false){\n                var min_step = 0;\n                var max_step = 3;\n                if (img == null) return;\n                //img的高度和宽度不能在img元素隐藏后获取，否则会出错    \n                var height = img.height;\n                var width = img.width;\n                \n                if (step == null) {\n                    step = min_step;\n                }\n                if (direction == 'right') {\n                    step++;\n                    //旋转到原位置，即超过最大值    \n                    step > max_step && (step = min_step);\n                } else {\n                    step--;\n                    step < min_step && (step = max_step);\n                }   \n                var canvas = document.createElement('canvas')  \n                \n                //旋转角度以弧度值为参数    \n                var degree = step * 90 * Math.PI / 180;\n                var ctx = canvas.getContext('2d');\n                canvas.width = height;\n                canvas.height = width;\n                ctx.rotate(degree);\n                ctx.drawImage(img, 0, -height);\n                switch (step) {\n                    case 0:\n                        canvas.width = width;\n                        canvas.height = height;\n                        ctx.drawImage(img, 0, 0);\n                        break;\n                    case 1:\n                        canvas.width = height;\n                        canvas.height = width;\n                        ctx.rotate(degree);\n                        ctx.drawImage(img, 0, -height);\n                        break;\n                    case 2:\n                        canvas.width = width;\n                        canvas.height = height;\n                        ctx.rotate(degree);\n                        ctx.drawImage(img, -width, -height);\n                        break;\n                    case 3:\n                        canvas.width = height;\n                        canvas.height = width;\n                        ctx.rotate(degree);\n                        ctx.drawImage(img, -width, 0);\n                        break;\n                }\n                var newImg=canvas.toDataURL()\n                \n                if(isBig){\n                    this.bigImgUrl=newImg\n                    this.bigStep=step\n                    this.initBox()\n                }else{\n                    this.imgUrl=newImg\n                    this.step=step\n                    this.$nextTick(()=>{\n                        this.initBox()\n                    })\n                }\n            },\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    .magnifier-box{\n        width: 100%;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n        position: relative;\n        .edit-wrap{\n            position: absolute;\n            top: 5px;\n            right: 0;\n            z-index: 9999999;\n            background: rgba(0,0,0,0.4);\n            padding: 5px 15px 0 15px;\n            border-radius: 15px;\n            .rotate-left{\n                display: inline-block;\n                cursor: pointer;\n                width: 16px;\n                height: 16px;\n                background: url(../rotate.png);\n                background-size: 100% 100%;\n                -moz-transform:scaleX(-1);\n                -webkit-transform:scaleX(-1);\n                -o-transform:scaleX(-1);\n                transform:scaleX(-1);\n                /*IE*/\n                filter:FlipH;\n            }\n            .rotate-right{\n                margin-left: 10px;\n                cursor: pointer;\n                display: inline-block;\n                width: 16px;\n                height: 16px;\n                background: url(../rotate.png);\n                background-size: 100% 100%;\n            }\n        }\n        img{\n            width: 100%;\n        };\n        .mouse-cover{\n            position: fixed;\n            background-color: rgba(0,0,0,0.5);\n            cursor:move\n        };\n        .mouse-cover-canvas{\n            position:fixed;\n            left:100%;\n            top:0;\n            width:100%;\n            height:100%;\n        }\n        &.vertical{\n            img{\n                height: 100%;\n                width: auto\n            }\n        }\n    }\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/PicZoom.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:_vm.id,staticClass:\"magnifier-box\",class:_vm.vertical?'vertical':'',on:{\"mousemove\":_vm.mousemove,\"mouseover\":_vm.mouseover,\"mouseleave\":_vm.mouseleave}},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showImg),expression:\"showImg\"}],attrs:{\"src\":_vm.imgUrl,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"mouse-cover\"}),_vm._v(\" \"),(_vm.showEidt)?_c('div',{staticClass:\"edit-wrap\"},[_c('span',{staticClass:\"rotate-left\",on:{\"click\":function($event){_vm.rotate('left')}}}),_vm._v(\" \"),_c('span',{staticClass:\"rotate-right\",on:{\"click\":function($event){_vm.rotate('right')}}})]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36e29b02\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/PicZoom.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36e29b02\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PicZoom.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PicZoom.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./PicZoom.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36e29b02\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./PicZoom.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36e29b02\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/PicZoom.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n      <div class=\"content\">\n        <div class=\"left-main\"></div>\n        <div class=\"main\">\n          <p>配置3倍放大：<span style=\"color:#ff6600\">:scale=\"3\"</span></p>\n          <div class=\"pic-box\">\n            <pic-zoom url=\"static/imac2.jpg\" :scale=\"3\"></pic-zoom>\n          </div>\n          \n          <p>配置放大时可滚动页面(滚轮)：<span style=\"color:#ff6600\">:scroll=\"true\"</span></p>\n          <div class=\"pic-box\">\n            <pic-zoom url=\"static/imac2.jpg\" :scale=\"3\" :scroll=\"true\"></pic-zoom>\n          </div>\n          <p>分开配置大小图片地址：<span style=\"color:#ff6600\">url=\"static/imac2_thumb.jpg\" big-url=\"static/imac2.jpg\"</span></p>\n          <div class=\"pic-box\">\n            <pic-zoom url=\"static/imac2_thumb.jpg\" big-url=\"static/imac2.jpg\" :scale=\"3\" ></pic-zoom>\n          </div>\n          <p>显示旋转按钮：<span style=\"color:#ff6600\">:show-eidt=\"true\"</span></p>\n          <div class=\"pic-box\">\n            <pic-zoom :url=\"url\" :scale=\"3\" :show-eidt=\"true\"></pic-zoom>\n          </div>\n          <button @click=\"changeUrl\">动态更改url</button>\n        </div>\n      </div>\n      \n  </div>\n</template>\n\n<script>\nimport PicZoom from './components/PicZoom'\n\nexport default {\n  name: 'App',\n  components: {\n    PicZoom\n  },\n  data(){\n    return{\n      url:\"static/imac2.jpg\"\n    }\n  },\n  methods:{\n    changeUrl(){\n      this.url=\"http://imgsrc.baidu.com/imgad/pic/item/3801213fb80e7beca9004ec5252eb9389b506b38.jpg\"\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n  padding-bottom: 100px;\n}\n.content{\n  width: 100%;\n  height: 100%;\n}\n.content .left-main{\n  width: 300px;\n  height: 100%;\n  float: left;\n}\n.content .main{\n  width: calc(100% - 300px);\n  float: left;\n  height: 100%;\n}\n.pic-box{\n  width:500px;\n  height:500px;\n  border:1px solid #eee;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"left-main\"}),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"pic-box\"},[_c('pic-zoom',{attrs:{\"url\":\"static/imac2.jpg\",\"scale\":3}})],1),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"pic-box\"},[_c('pic-zoom',{attrs:{\"url\":\"static/imac2.jpg\",\"scale\":3,\"scroll\":true}})],1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"pic-box\"},[_c('pic-zoom',{attrs:{\"url\":\"static/imac2_thumb.jpg\",\"big-url\":\"static/imac2.jpg\",\"scale\":3}})],1),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('div',{staticClass:\"pic-box\"},[_c('pic-zoom',{attrs:{\"url\":_vm.url,\"scale\":3,\"show-eidt\":true}})],1),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.changeUrl}},[_vm._v(\"动态更改url\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"配置3倍放大：\"),_c('span',{staticStyle:{\"color\":\"#ff6600\"}},[_vm._v(\":scale=\\\"3\\\"\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"配置放大时可滚动页面(滚轮)：\"),_c('span',{staticStyle:{\"color\":\"#ff6600\"}},[_vm._v(\":scroll=\\\"true\\\"\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"分开配置大小图片地址：\"),_c('span',{staticStyle:{\"color\":\"#ff6600\"}},[_vm._v(\"url=\\\"static/imac2_thumb.jpg\\\" big-url=\\\"static/imac2.jpg\\\"\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"显示旋转按钮：\"),_c('span',{staticStyle:{\"color\":\"#ff6600\"}},[_vm._v(\":show-eidt=\\\"true\\\"\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-15297386\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-15297386\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-15297386\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}